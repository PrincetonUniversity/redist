data(fl25)
adj <- redist.adjacency(fl25)

test_that("mcmc works", {
  set.seed(1)
  out <- redist.mcmc(adj = adj, total_pop = fl25$pop,
                     nsims = 10, ndists = 3, verbose = FALSE)
  expected <- structure(c(0, 0, 0, 0, 1, 2, 1, 1, 2, 1, 2, 2, 2, 2, 2, 0, 0, 
                          0, 0, 0, 0, 1, 2, 1, 1, 2, 0, 0, 0, 1, 2, 1, 1, 2, 1, 2, 2, 2, 
                          2, 2, 0, 0, 0, 0, 0, 0, 1, 2, 1, 1, 2, 2, 0, 0, 1, 2, 1, 1, 2, 
                          1, 2, 2, 2, 2, 2, 0, 0, 0, 0, 0, 0, 1, 2, 1, 1, 2, 0, 0, 0, 1, 
                          2, 1, 1, 2, 1, 2, 2, 2, 2, 2, 0, 0, 0, 0, 0, 0, 1, 2, 1, 1, 2, 
                          0, 0, 0, 1, 2, 1, 1, 2, 1, 2, 2, 2, 2, 2, 0, 0, 0, 0, 0, 0, 0, 
                          2, 1, 1, 2, 0, 0, 0, 1, 2, 1, 1, 2, 1, 2, 2, 2, 2, 2, 0, 0, 0, 
                          0, 1, 0, 1, 2, 1, 1, 2, 0, 0, 0, 1, 2, 1, 1, 2, 1, 1, 2, 2, 2, 
                          2, 0, 0, 0, 0, 1, 0, 1, 2, 1, 1, 2, 0, 0, 0, 1, 2, 1, 1, 2, 1, 
                          1, 2, 2, 2, 2, 0, 0, 0, 0, 1, 2, 1, 2, 1, 1, 2, 0, 0, 0, 1, 2, 
                          1, 1, 2, 1, 1, 2, 2, 2, 2, 0, 0, 0, 0, 1, 0, 1, 2, 1, 1, 2, 0, 
                          0, 0, 1, 2, 1, 1, 2, 1, 1, 2, 2, 2, 2, 0, 0, 0, 0, 1, 2, 1, 2, 
                          1, 1), .Dim = c(25L, 10L))
  
  expect_equal(out$plans, expected)
})
